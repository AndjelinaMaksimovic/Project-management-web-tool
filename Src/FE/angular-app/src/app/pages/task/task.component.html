<app-navbar>
    <div style="padding: 10px;">
        <h1>{{task?.title}}</h1>
        <mat-card>
            <mat-card-content>
                <!-- <mat-divider></mat-divider> -->
                <div style="display: flex; gap: 20px; margin-bottom: 10px; flex-wrap: wrap;">
                    <span class="tag">Category: <app-category-chip [task]="task"></app-category-chip></span>
                    <span class="tag">Priority: <div [classList]="['chip chip-' + 'warn']">{{task?.priority === "High" ?
                            "ðŸŽ¯ï¸Ž "
                            + task?.priority :
                            task?.priority}}</div></span>
                    <span class="tag">Status: <app-status-chip [task]="task"></app-status-chip></span>
                    <div class="tag">
                        Due date:
                        <div style="font-size: small; font-weight: bold; color: black">ðŸ“…
                            {{task?.dueDate?.toDateString()}}
                        </div>
                    </div>

                    <span class="tag">Assigned to:
                        @for (assignee of task?.assignedTo; track assignee) {
                        <span style="display: flex; align-items: center; gap: 10px" [matTooltip]="assignee.firstName + ' ' + assignee.lastName">
                            <span
                                style="width: 24px; height: 24px; border-radius: 100%; background-color: rgb(255, 102, 0); color: white; text-align: center; vertical-align: center; line-height: 24px;">
                                {{assignee.firstName[0]}}</span>
                        </span>
                        }
                    </span>
                </div>
                <mat-divider></mat-divider>
                <app-editable-markdown [content]="task?.description" (onSave)="updateDescription($event)"></app-editable-markdown>
                <!-- <markdown ngPreserveWhitespaces [data]="task?.description"></markdown> -->
            </mat-card-content>
        </mat-card>
        <h3>Comments:</h3>
        <app-comments [taskId]="taskId"></app-comments>
    </div>
</app-navbar>