<app-navbar [title]="'Projekat 1'">
    <div style="padding: 20px;">

        <div style="position: absolute; top: 20px; right: 20px; display: flex; width: 250px; height: 50px;">
            <div style="height: 100%; padding-right: 5px; position: relative;" class="color-primary">
                <svg height="80%" style="padding: 10% 0;" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10,20h4a2,2,0,0,1-4,0Zm8-4V10a6,6,0,0,0-5-5.91V3a1,1,0,0,0-2,0V4.09A6,6,0,0,0,6,10v6L4,18H20Z"/></svg>
                <span class="badge">
                    20
                </span>
            </div>
            <!-- <mat-icon matBadge="1500" matBadgeSize="medium" matBadgeHidden="false" matBadgeColor="warn">notifications</mat-icon> -->
            <div style="display: flex; flex-grow: 1; align-items: center; background-color: #FFFFFF; padding: 5px; border-radius: 5px;">
                <div style="flex-grow: 1;">
                    <p style="font-weight: bold;">{{ user.name }} {{ user.surname }}</p>
                    <p style="color: gray">Project owner</p>
                </div>
                <!-- TODO: profil -->
                <!-- <img src="" alt="" style="width: 50px; height: 50px; border-radius: 50%;"> -->
                <!-- <svg style="height: 100%; border-radius: 50%; color: lightblue;"><use href="assets/user.svg#Page-1"></use></svg> -->
                <svg style="height: 100%; border-radius: 50%; color: lightblue;" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                    <title>profile [#1336]</title>
                    <desc>Created with Sketch.</desc>
                    <defs></defs>
                    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                        <g id="Dribbble-Light-Preview" transform="translate(-380.000000, -2159.000000)" fill="currentColor">
                            <g id="icons" transform="translate(56.000000, 160.000000)">
                                <path d="M334,2011 C337.785,2011 340.958,2013.214 341.784,2017 L326.216,2017 C327.042,2013.214 330.215,2011 334,2011 M330,2005 C330,2002.794 331.794,2001 334,2001 C336.206,2001 338,2002.794 338,2005 C338,2007.206 336.206,2009 334,2009 C331.794,2009 330,2007.206 330,2005 M337.758,2009.673 C339.124,2008.574 340,2006.89 340,2005 C340,2001.686 337.314,1999 334,1999 C330.686,1999 328,2001.686 328,2005 C328,2006.89 328.876,2008.574 330.242,2009.673 C326.583,2011.048 324,2014.445 324,2019 L344,2019 C344,2014.445 341.417,2011.048 337.758,2009.673" id="profile-[#1336]"></path>
                            </g>
                        </g>
                    </g>
                </svg>
            </div>
        </div>


        <h1 style="margin-bottom: 5px; font-weight: bold; font-size: 2em;">Welcome {{ user.name }} {{ user.surname }}!</h1>
        <p style="color: grey;">{{date | date: 'EEEE, MMMM d.'}}</p>

        <button style="margin: 20px 0; border-radius: 20px;" color="primary" mat-raised-button (click)="addAccount()">+ Add new account</button>

        <div class="card">
            <div style="display: flex; align-items: center; padding-bottom: 10px;">
                <h1 style="flex-grow: 1; font-size: 1.5em; font-weight: 400;">{{projects.length}} Active projects</h1>
                <button style="float: right; border-radius: 20px;" color="primary" mat-raised-button routerLink="/new-project">+ Create new project</button>
            </div>

            @for (project of projects; track project) {
                <div style="display: flex; align-items: center; border: 1px solid rgb(218, 218, 218); margin-bottom: 15px; padding: 10px; border-radius: 15px;">
                    <div style="padding: 0 10px;">
                        <h4 style="margin: 5px 0; font-weight: 500;">{{project.title}}</h4>
                        <p>{{project.desc}}</p>
                    </div>
                    <div style="border: solid rgb(218, 218, 218); border-width: 0 2px; align-self: stretch; padding: 0 25px; margin: 0 15px; flex-grow: 1;">
                        <div style="height: 100%; display: flex; align-items: center;">
                            <div style="width:100%;">
                                <span>Progress</span>
                                <span style="float: right;">{{ project.progress }}%</span>
                                <div style="background-color: #EFF0F0; width: 100%; height: 10px; border-radius: 5px; margin: 5px 0;">
                                    <div class="background-color-primary" style="height: inherit; border-radius: 5px;" [ngStyle]="{'width': project.progress+'%'}"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button style="border-radius: 20px; margin: 0 15px;" mat-raised-button color="primary">Manage</button>
                    <button style="border-radius: 20px; margin: 0 15px;" mat-raised-button>Invite member</button>
                </div>
            }
        </div>
    </div>
</app-navbar>
<!-- <app-nav></app-nav> -->